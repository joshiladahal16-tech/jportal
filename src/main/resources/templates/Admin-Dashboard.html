<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard · Job Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <style>
        /* Footer styles */
        .footer {
          background: #1a1a1a;
          color: #eee;
          padding: 2rem 1.5rem 1rem;
          margin-top: 2rem;
          font-family: Arial, sans-serif;
        }
        .footer-container {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 2rem;
          max-width: 1100px;
          margin: auto;
        }
        .footer-section h3,
        .footer-logo {
          margin-bottom: 1rem;
          color: #fff;
        }
        .footer-logo {
          font-size: 20px;
          font-weight: bold;
          color: #8b5cf6;
        }
        .footer-section ul {
          list-style: none;
          padding: 0;
        }
        .footer-section ul li {
          margin: 0.5rem 0;
        }
        .footer-section ul li a {
          color: #ccc;
          text-decoration: none;
          transition: color 0.2s ease;
        }
        .footer-section ul li a:hover {
          color: #8b5cf6;
        }
        .footer .social-icons a {
          color: #ccc;
          margin-right: 10px;
          font-size: 18px;
          transition: color 0.2s ease;
        }
        .footer .social-icons a:hover {
          color: #8b5cf6;
        }
        .footer-bottom {
          text-align: center;
          margin-top: 2rem;
          padding-top: 1rem;
          border-top: 1px solid #333;
          font-size: 14px;
          color: #aaa;
        }
    </style>
</head>
<body>
<header class="site-header">
    <div class="container nav">
        <a class="brand" th:href="@{/}"
        ><i class="fa-solid fa-briefcase"></i> Job Portal</a
        >
        <nav class="nav-links">
            <a th:href="@{/admin/users}" th:text="#{admin.nav.users}">Manage Users</a>
            <a th:href="@{/admin/employers}" th:text="#{admin.nav.employers}">Manage Employers</a>
            <a th:href="@{/admin/jobs}" th:text="#{admin.nav.jobs}">Manage Jobs</a>
        </nav>
    </div>
</header>

<main class="section">
    <div class="container">
        <h1 style="margin: 0 0 0.6rem" th:text="#{admin.dashboard.title}">Admin dashboard</h1>
        <p class="muted" style="margin: 0 0 1rem" th:text="#{admin.dashboard.description}">
            Overview of users, employers, and jobs.
        </p>
        <div class="grid grid-3">
            <div class="card stat">
                <div>
                    <div class="muted" th:text="#{admin.stats.jobseekers}">Job seekers</div>
                    <div class="value" th:text="${dashboardStats.jobSeekerCount}">1,284</div>
                </div>
                <i class="fa-solid fa-user" style="color: #f97316"></i>
            </div>
            <div class="card stat">
                <div>
                    <div class="muted" th:text="#{admin.stats.employers}">Employers</div>
                    <div class="value" th:text="${dashboardStats.employerCount}">212</div>
                </div>
                <i class="fa-solid fa-building" style="color: #ef4444"></i>
            </div>
            <div class="card stat">
                <div>
                    <div class="muted" th:text="#{admin.stats.activejobs}">Active jobs</div>
                    <div class="value" th:text="${dashboardStats.activeJobCount}">458</div>
                </div>
                <i class="fa-solid fa-briefcase" style="color: #fb923c"></i>
            </div>
        </div>

        <div class="card" style="margin-top: 1.1rem">
            <div
                    style="
              display: flex;
              align-items: center;
              justify-content: space-between;
            "
            >
                <h2 style="margin: 0" th:text="#{admin.pending.title}">Pending approvals</h2>
                <a class="btn btn-outline" th:href="@{/admin/employers}" th:text="#{admin.pending.viewall}">View all</a>
            </div>
            <table class="table" style="margin-top: 0.6rem" th:if="${pendingApprovals != null and not #lists.isEmpty(pendingApprovals)}">
                <thead>
                <tr>
                    <th th:text="#{admin.table.company}">Company</th>
                    <th th:text="#{admin.table.submitted}">Submitted</th>
                    <th th:text="#{admin.table.status}">Status</th>
                    <th th:text="#{admin.table.actions}">Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="approval : ${pendingApprovals}">
                    <td th:text="${approval.companyName}">Company Name</td>
                    <td th:text="${#temporals.format(approval.submittedDate, 'dd MMM')}">11 Aug</td>
                    <td>
                  <span class="badge"
                        th:classappend="${approval.status == 'PENDING' ? 'badge-warning' :
                                       approval.status == 'APPROVED' ? 'badge-success' : 'badge-danger'}"
                        th:text="#{${'admin.status.' + #strings.toLowerCase(approval.status)}}">
                    Pending
                  </span>
                    </td>
                    <td>
                        <form th:action="@{/admin/employers/{id}/approve(id=${approval.id})}" method="post" style="display: inline;">
                            <button class="btn btn-primary" type="submit" th:text="#{admin.action.approve}">Approve</button>
                        </form>
                        <form th:action="@{/admin/employers/{id}/reject(id=${approval.id})}" method="post" style="display: inline;">
                            <button class="btn btn-outline" type="submit" th:text="#{admin.action.reject}">Reject</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- Fallback content when no pending approvals -->
            <div th:unless="${pendingApprovals != null and not #lists.isEmpty(pendingApprovals)}"
                 style="text-align: center; padding: 2rem;">
                <p class="muted" th:text="#{admin.pending.empty}">No pending approvals at this time.</p>
            </div>
        </div>

        <!-- Recent Activity Section -->
        <div class="card" style="margin-top: 1.1rem" th:if="${recentActivities != null and not #lists.isEmpty(recentActivities)}">
            <h2 style="margin: 0 0 0.6rem 0" th:text="#{admin.recent.title}">Recent Activity</h2>
            <div class="activity-list">
                <div th:each="activity : ${recentActivities}" class="activity-item" style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span th:text="${activity.description}">Activity description</span>
                        <span class="muted" th:text="${#temporals.format(activity.timestamp, 'dd MMM, HH:mm')}">12 Aug, 14:30</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer class="footer">
    <div class="footer-container">
        <!-- Logo / About -->
        <div class="footer-section about">
            <h2 class="footer-logo"><i class="fa-solid fa-fire"></i> <span th:text="#{footer.brand}">Hot Jobs</span></h2>
            <p th:text="#{footer.description}">
                Your trusted platform for high-intent job openings hand-picked daily.
            </p>
        </div>

        <!-- Quick Links -->
        <div class="footer-section links">
            <h3 th:text="#{footer.quicklinks}">Quick Links</h3>
            <ul>
                <li><a th:href="@{/}" th:text="#{nav.home}">Home</a></li>
                <li><a th:href="@{/jobs}" th:text="#{nav.browse}">Browse Jobs</a></li>
                <li><a th:href="@{/employer/post-job}" th:text="#{nav.post}">Post a Job</a></li>
                <li><a th:href="@{/contact}" th:text="#{nav.contact}">Contact</a></li>
            </ul>
        </div>

        <!-- Resources -->
        <div class="footer-section resources">
            <h3 th:text="#{footer.resources}">Resources</h3>
            <ul>
                <li><a th:href="@{/blog}" th:text="#{footer.blog}">Blog</a></li>
                <li><a th:href="@{/faq}" th:text="#{footer.faq}">FAQs</a></li>
                <li><a th:href="@{/support}" th:text="#{footer.support}">Support</a></li>
                <li><a th:href="@{/privacy}" th:text="#{footer.privacy}">Privacy Policy</a></li>
            </ul>
        </div>

        <!-- Social -->
        <div class="footer-section social">
            <h3 th:text="#{footer.follow}">Follow Us</h3>
            <div class="social-icons">
                <a th:href="${socialLinks.facebook}"><i class="fa-brands fa-facebook"></i></a>
                <a th:href="${socialLinks.twitter}"><i class="fa-brands fa-twitter"></i></a>
                <a th:href="${socialLinks.linkedin}"><i class="fa-brands fa-linkedin"></i></a>
                <a th:href="${socialLinks.instagram}"><i class="fa-brands fa-instagram"></i></a>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p th:text="#{footer.copyright(${#dates.year(#dates.createNow())})}">© 2025 Hot Jobs. All Rights Reserved.</p>
    </div>
</footer>
</body>
</html>